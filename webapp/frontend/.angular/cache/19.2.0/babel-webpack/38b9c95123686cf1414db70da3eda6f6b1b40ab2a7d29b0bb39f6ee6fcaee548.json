{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./text-to-speech.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./text-to-speech.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { ApiService } from '../api.service';\nlet TextToSpeechComponent = class TextToSpeechComponent {\n  apiService;\n  selectedFile = null;\n  constructor(apiService) {\n    this.apiService = apiService;\n  }\n  // Handle file selection via input\n  onFileSelected(event) {\n    this.selectedFile = event.target.files[0];\n  }\n  // Handle file drop\n  onFileDropped(event) {\n    event.preventDefault();\n    if (event.dataTransfer?.files) {\n      this.selectedFile = event.dataTransfer.files[0];\n    }\n  }\n  // Allow drag-over event\n  onDragOver(event) {\n    event.preventDefault();\n  }\n  // Convert the file to speech\n  convertTextToSpeech() {\n    if (!this.selectedFile) {\n      alert('Please select a file.');\n      return;\n    }\n    this.apiService.textToSpeech(this.selectedFile).subscribe(response => {\n      const audioUrl = window.URL.createObjectURL(response);\n      const link = document.createElement('a');\n      link.href = audioUrl;\n      link.download = 'output.mp3';\n      link.click();\n      window.URL.revokeObjectURL(audioUrl);\n    }, error => {\n      console.error('Error converting text to speech:', error);\n      alert('An error occurred while converting the file. Please try again.');\n    });\n  }\n  static ctorParameters = () => [{\n    type: ApiService\n  }];\n};\nTextToSpeechComponent = __decorate([Component({\n  selector: 'text-to-speech',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], TextToSpeechComponent);\nexport { TextToSpeechComponent };","map":{"version":3,"names":["Component","ApiService","TextToSpeechComponent","apiService","selectedFile","constructor","onFileSelected","event","target","files","onFileDropped","preventDefault","dataTransfer","onDragOver","convertTextToSpeech","alert","textToSpeech","subscribe","response","audioUrl","window","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","error","console","__decorate","selector","template","__NG_CLI_RESOURCE__0"],"sources":["/Users/jamielabed/Documents/GitHub/Text_To_Speech/webapp/frontend/src/app/text-to-speech/text-to-speech.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ApiService } from '../api.service';\n\n@Component({\n  selector: 'text-to-speech',\n  templateUrl: './text-to-speech.component.html',\n  styleUrls: ['./text-to-speech.component.css']\n})\nexport class TextToSpeechComponent {\n  selectedFile: File | null = null;\n\n  constructor(private apiService: ApiService) {}\n\n  // Handle file selection via input\n  onFileSelected(event: any) {\n    this.selectedFile = event.target.files[0];\n  }\n\n  // Handle file drop\n  onFileDropped(event: DragEvent) {\n    event.preventDefault();\n    if (event.dataTransfer?.files) {\n      this.selectedFile = event.dataTransfer.files[0];\n    }\n  }\n\n  // Allow drag-over event\n  onDragOver(event: DragEvent) {\n    event.preventDefault();\n  }\n\n  // Convert the file to speech\n  convertTextToSpeech() {\n    if (!this.selectedFile) {\n      alert('Please select a file.');\n      return;\n    }\n\n    this.apiService.textToSpeech(this.selectedFile).subscribe(\n      (response: Blob) => {\n        const audioUrl = window.URL.createObjectURL(response);\n        const link = document.createElement('a');\n        link.href = audioUrl;\n        link.download = 'output.mp3';\n        link.click();\n        window.URL.revokeObjectURL(audioUrl);\n      },\n      (error) => {\n        console.error('Error converting text to speech:', error);\n        alert('An error occurred while converting the file. Please try again.');\n      }\n    );\n  }\n}"],"mappings":";;;AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,UAAU,QAAQ,gBAAgB;AAOpC,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAGZC,UAAA;EAFpBC,YAAY,GAAgB,IAAI;EAEhCC,YAAoBF,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;EAAe;EAE7C;EACAG,cAAcA,CAACC,KAAU;IACvB,IAAI,CAACH,YAAY,GAAGG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EAC3C;EAEA;EACAC,aAAaA,CAACH,KAAgB;IAC5BA,KAAK,CAACI,cAAc,EAAE;IACtB,IAAIJ,KAAK,CAACK,YAAY,EAAEH,KAAK,EAAE;MAC7B,IAAI,CAACL,YAAY,GAAGG,KAAK,CAACK,YAAY,CAACH,KAAK,CAAC,CAAC,CAAC;IACjD;EACF;EAEA;EACAI,UAAUA,CAACN,KAAgB;IACzBA,KAAK,CAACI,cAAc,EAAE;EACxB;EAEA;EACAG,mBAAmBA,CAAA;IACjB,IAAI,CAAC,IAAI,CAACV,YAAY,EAAE;MACtBW,KAAK,CAAC,uBAAuB,CAAC;MAC9B;IACF;IAEA,IAAI,CAACZ,UAAU,CAACa,YAAY,CAAC,IAAI,CAACZ,YAAY,CAAC,CAACa,SAAS,CACtDC,QAAc,IAAI;MACjB,MAAMC,QAAQ,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACJ,QAAQ,CAAC;MACrD,MAAMK,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAI,GAAGP,QAAQ;MACpBI,IAAI,CAACI,QAAQ,GAAG,YAAY;MAC5BJ,IAAI,CAACK,KAAK,EAAE;MACZR,MAAM,CAACC,GAAG,CAACQ,eAAe,CAACV,QAAQ,CAAC;IACtC,CAAC,EACAW,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxDf,KAAK,CAAC,gEAAgE,CAAC;IACzE,CAAC,CACF;EACH;;;;;AA5CWb,qBAAqB,GAAA8B,UAAA,EALjChC,SAAS,CAAC;EACTiC,QAAQ,EAAE,gBAAgB;EAC1BC,QAAA,EAAAC,oBAA8C;;CAE/C,CAAC,C,EACWjC,qBAAqB,CA6CjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}